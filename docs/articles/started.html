<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started • webhoser</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- theme --><meta name="theme-color" content="#2f2f2f">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../sandstone.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<link href="../news-r.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">webhoser</a>
        <sup class="by">by <a href="https://news-r.org" target="_blank">news-r</a></sup><div class="info">
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.1</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/started.html">
    <span class="fa fa-rocket"></span>
     
    Get Started
  </a>
</li>
<li>
  <a href="../reference/">Reference</a>
</li>
        <li>
  <a href="https://github.com/news-r/webhoser">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="started_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="started_files/g2-3.5.1/g2.min.js"></script><script src="started_files/g2-3.5.1/shapes.js"></script><script src="started_files/g2-3.5.1/functions.js"></script><script src="started_files/g2r-binding-0.1.0/g2r.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Get Started</h1>
                        <h4 class="author">John Coene</h4>
            
            <h4 class="date">2019-07-15</h4>
      
      
      <div class="hidden name"><code>started.Rmd</code></div>

    </div>

    
    
<div id="setup" class="section level1">
<h1 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h1>
<p>Let’s walk you through <code>webhoser</code> with a simple use case: we’ll get articles and blog posts about the R programming language. But first, we need to authenticate, head over to <a href="https://webhose.io/">webhose.io</a> if you do not have an account yet. The aforementioned account will give you an <em>API Key</em>, this is what you will use in the function below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/token.html">wh_token</a></span>(<span class="st">"xXX-x0X0xX0X-00X"</span>)</code></pre></div>
</div>
<div id="get" class="section level1">
<h1 class="hasAnchor">
<a href="#get" class="anchor"></a>Get</h1>
<p>Great, now that we have a token, we can fetch some articles. We’ll use some basic boolean search arguments and filters to narrow down the search to english and news (excludes blogs). We can expect the number of articles about the R Programming Language to be relatively low so we’ll extend the date range to make sure we get a decent number of articles (functions default to the last 3 days), we’ll also limit the search to blogs as this is where we’d expect R to be mentioned.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rstats &lt;-<span class="st"> </span><span class="kw"><a href="../reference/wh_news.html">wh_news</a></span>(
    <span class="dt">q =</span> <span class="st">'"R programming" is_first:true language:english site_type:blogs'</span>,
    <span class="dt">ts =</span> (<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>() <span class="op">-</span><span class="st"> </span>(<span class="dv">30</span> <span class="op">*</span><span class="st"> </span><span class="dv">24</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span>))
  ) </code></pre></div>
<p><em>Note that with the free version you are limited to 30 days of results</em></p>
<p><a href="https://webhose.io/">webhose.io</a> gives 1,000 results per month for free, <code>wh_news</code> and <code>wh_broadcasts</code> print the number of queries left by default.</p>
</div>
<div id="paginate" class="section level1">
<h1 class="hasAnchor">
<a href="#paginate" class="anchor"></a>Paginate</h1>
<p>We can paginate through the results if we want more data; let’s get five more pages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rstats_pagingated &lt;-<span class="st"> </span>rstats <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/wh_paginate.html">wh_paginate</a></span>(<span class="dv">5</span>)
<span class="co">#&gt; ▶ Crawling 2 page(s)</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(rstats_pagingated)
<span class="co">#&gt; [1] "webhoser"</span></code></pre></div>
<p>So we fetched one page of results then using that object we paginated through 5 more pages. However, this returns an object of class <code>webhoser</code>. The <code>wh_collect</code> function takes another arguement <code>flatten</code> which defaults to <code>FALSE</code>.</p>
<ol style="list-style-type: decimal">
<li>If <code>TRUE</code> the function attempts to flatten the results into a standard <code>data.frame</code>.</li>
<li>If <code>FALSE</code> the function returns a nested <code>data.frame</code>.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rstats_df &lt;-<span class="st"> </span><span class="kw"><a href="../reference/wh_collect.html">wh_collect</a></span>(rstats_pagingated)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(rstats_df)
<span class="co">#&gt; [1] "data.frame"</span></code></pre></div>
<p>The above functions can be summed up as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rstats &lt;-<span class="st"> </span><span class="kw"><a href="../reference/wh_news.html">wh_news</a></span>(
    <span class="dt">q =</span> <span class="st">'"R programming" is_first:true language:english site_type:blogs'</span>,
    <span class="dt">ts =</span> (<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>() <span class="op">-</span><span class="st"> </span>(<span class="dv">30</span> <span class="op">*</span><span class="st"> </span><span class="dv">24</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span>))
  ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/wh_paginate.html">wh_paginate</a></span>(<span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/wh_collect.html">wh_collect</a></span>()</code></pre></div>
<p>This returned 206 articles with lot of variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(rstats)
<span class="co">#&gt;  [1] "uuid"                             </span>
<span class="co">#&gt;  [2] "url"                              </span>
<span class="co">#&gt;  [3] "ord_in_thread"                    </span>
<span class="co">#&gt;  [4] "author"                           </span>
<span class="co">#&gt;  [5] "published"                        </span>
<span class="co">#&gt;  [6] "title"                            </span>
<span class="co">#&gt;  [7] "text"                             </span>
<span class="co">#&gt;  [8] "highlightText"                    </span>
<span class="co">#&gt;  [9] "highlightTitle"                   </span>
<span class="co">#&gt; [10] "language"                         </span>
<span class="co">#&gt; [11] "external_links"                   </span>
<span class="co">#&gt; [12] "external_images"                  </span>
<span class="co">#&gt; [13] "rating"                           </span>
<span class="co">#&gt; [14] "crawled"                          </span>
<span class="co">#&gt; [15] "thread.uuid"                      </span>
<span class="co">#&gt; [16] "thread.url"                       </span>
<span class="co">#&gt; [17] "thread.site_full"                 </span>
<span class="co">#&gt; [18] "thread.site"                      </span>
<span class="co">#&gt; [19] "thread.site_section"              </span>
<span class="co">#&gt; [20] "thread.site_categories"           </span>
<span class="co">#&gt; [21] "thread.section_title"             </span>
<span class="co">#&gt; [22] "thread.title"                     </span>
<span class="co">#&gt; [23] "thread.title_full"                </span>
<span class="co">#&gt; [24] "thread.published"                 </span>
<span class="co">#&gt; [25] "thread.replies_count"             </span>
<span class="co">#&gt; [26] "thread.participants_count"        </span>
<span class="co">#&gt; [27] "thread.site_type"                 </span>
<span class="co">#&gt; [28] "thread.country"                   </span>
<span class="co">#&gt; [29] "thread.spam_score"                </span>
<span class="co">#&gt; [30] "thread.main_image"                </span>
<span class="co">#&gt; [31] "thread.performance_score"         </span>
<span class="co">#&gt; [32] "thread.domain_rank"               </span>
<span class="co">#&gt; [33] "thread.social.facebook.likes"     </span>
<span class="co">#&gt; [34] "thread.social.facebook.comments"  </span>
<span class="co">#&gt; [35] "thread.social.facebook.shares"    </span>
<span class="co">#&gt; [36] "thread.social.gplus.shares"       </span>
<span class="co">#&gt; [37] "thread.social.pinterest.shares"   </span>
<span class="co">#&gt; [38] "thread.social.linkedin.shares"    </span>
<span class="co">#&gt; [39] "thread.social.stumbledupon.shares"</span>
<span class="co">#&gt; [40] "thread.social.vk.shares"          </span>
<span class="co">#&gt; [41] "entities.persons"                 </span>
<span class="co">#&gt; [42] "entities.organizations"           </span>
<span class="co">#&gt; [43] "entities.locations"</span></code></pre></div>
<p>Below we use <a href="https://g2r.dev/">g2r</a> for a quick plot of the number of articles published by day.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)
<span class="co"># remotes::install_github("JohnCoene/g2r)</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(g2r)

rstats <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(rstats<span class="op">$</span>published, <span class="st">"%Y-%m-%d"</span>)
  ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(date) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://g2r.dev/reference/g2r.html">g2</a></span>(<span class="kw"><a href="http://g2r.dev/reference/asp.html">asp</a></span>(date, n, <span class="dt">color =</span> <span class="st">"#247BA0"</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://g2r.dev/reference/geoms.html">fig_line</a></span>()</code></pre></div>
<div id="htmlwidget-e7a674d6ec9bfd19697a" style="width:100%;height:500px;" class="g2r html-widget"></div>
<script type="application/json" data-for="htmlwidget-e7a674d6ec9bfd19697a">{"x":{"opts":{"padding":"auto","forceFit":true},"render":true,"data":[{"date":"2019-06-14","n":2},{"date":"2019-06-15","n":2},{"date":"2019-06-16","n":2},{"date":"2019-06-17","n":11},{"date":"2019-06-18","n":4},{"date":"2019-06-19","n":5},{"date":"2019-06-20","n":9},{"date":"2019-06-21","n":7},{"date":"2019-06-22","n":5},{"date":"2019-06-23","n":13},{"date":"2019-06-24","n":2},{"date":"2019-06-25","n":10},{"date":"2019-06-26","n":4},{"date":"2019-06-27","n":5},{"date":"2019-06-28","n":6},{"date":"2019-06-29","n":6},{"date":"2019-06-30","n":7},{"date":"2019-07-01","n":6},{"date":"2019-07-02","n":8},{"date":"2019-07-03","n":8},{"date":"2019-07-04","n":10},{"date":"2019-07-05","n":12},{"date":"2019-07-06","n":4},{"date":"2019-07-07","n":3},{"date":"2019-07-08","n":9},{"date":"2019-07-09","n":9},{"date":"2019-07-10","n":10},{"date":"2019-07-11","n":4},{"date":"2019-07-12","n":13},{"date":"2019-07-13","n":5},{"date":"2019-07-14","n":3},{"date":"2019-07-15","n":2}],"dataOpts":{"date":{"sync":true},"n":{"sync":true}},"layers":[{"layer":{"options":{"geoms":[{"type":"line","position":["date","n"],"color":"#247BA0"}]}}}]},"evals":[],"jsHooks":[]}</script><p><a href="https://webhose.io/">webhoser.io</a> does some entity extraction for us, so we do not have to do it ourselves, the <code>data.frame</code> includes entitities mentioned in the body of the text along with the sentiment associated with it:</p>
<ol style="list-style-type: decimal">
<li>Locations</li>
<li>Persons</li>
<li>Organisations</li>
</ol>
<p>This, however, is only so accurate depending on the articles you fetch.</p>
<p><a href="https://webhose.io/">webhoser.io</a> also lets you fetch broadcasts transcripts, happy text mining!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#setup">Setup</a></li>
      <li><a href="#get">Get</a></li>
      <li><a href="#paginate">Paginate</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://john-coene.com">John Coene</a> for <a href="https://news-r.org" target="_blank">news-r</a>.</p>
</div>

<a href="https://www.patreon.com/bePatron?u=21257335" data-patreon-widget-type="become-patron-button">Become a Patron!</a><script async src="https://c6.patreon.com/becomePatronButton.bundle.js"></script><div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
